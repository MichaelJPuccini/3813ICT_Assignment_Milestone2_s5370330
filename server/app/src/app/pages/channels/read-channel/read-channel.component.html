<app-top-menu></app-top-menu>

<div *ngIf="channel; else loading">
    <h2>Channel: {{ channel.name }}</h2>
    <p>User Count: {{ userCount }}</p>
    <p>Channel Notice: {{ channelNotice }}</p>
</div>

<ng-template #loading>
    <p>Loading channel data...</p>
</ng-template>

<div *ngIf="isAdmin">
    <h2>Admin</h2>
    <a [routerLink]="['/channels/manageusers', channel?._id]" class="btn btn-primary">Add/Remove Users</a>
</div>

<div *ngIf="isOwner">
    <h2>Owner</h2>
    <a [routerLink]="['/channels/remove', channel?._id]" class="btn btn-danger">Delete Channel</a>
</div>

<div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
</div>    

<div class="container">
    <form>
        <div class="form-group">
            <label for="messagecontent"> New Message </label>
            <input type="text" [(ngModel)]="messagecontent" name="messagecontent" id="messagecontent" class="form-control">
        </div>    
        <div class="form-group">
            <button (click)="chat()" class="btn btn-primary"> Send </button>
        </div>    
    </form>    
</div>    

<li *ngFor="let m of messages">{{m}}</li>
